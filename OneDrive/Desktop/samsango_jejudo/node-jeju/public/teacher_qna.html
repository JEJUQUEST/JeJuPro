<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Trip Mate – 문의 답변</title>
<style>
  :root{
    /* palette (images/colors.png) */
    --sky:#2E9AFE;   /* 액션 */
    --blue:#0D6AC1;  /* 브랜드 */
    --muted:#6B7280; /* 보조 텍스트 */
    --ink:#111827;   /* 본문 */
    --line:#E5E7EB;  /* 테두리 */
    --tile:#4B7280;  /* 보조 강조 */

    --btn-h:52px;
    --radius:14px;
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{margin:0;font-family:'Apple SD Gothic Neo','Noto Sans KR',system-ui,-apple-system,sans-serif;
      color:var(--ink);background:#fff}

  /* Header */
  header{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid var(--line)}
  .head{display:flex;align-items:center;gap:8px;padding:14px 16px;max-width:480px;margin:0 auto}
  .back{display:grid;place-items:center;width:38px;height:38px;border:1px solid var(--line);border-radius:10px;background:#fff;text-decoration:none}
  .back:active{transform:translateY(1px)}
  .title{margin:0;flex:1;text-align:center;font-size:18px;font-weight:900;color:var(--blue)}
  .sp{width:38px}

  .container{max-width:480px;margin:0 auto;padding:16px}

  /* 상단 카운터 타일 */
  .metrics{display:flex;gap:12px;margin-bottom:14px}
  .metric{flex:1;border:1px solid var(--line);border-radius:12px;padding:12px 14px}
  .metric h3{margin:0 0 6px;font-size:14px;color:var(--muted);font-weight:700}
  .metric .num{font-weight:900;font-size:22px}

  /* 탭/검색 */
  .tabs{display:flex;gap:8px;margin:6px 0 12px}
  .tab{flex:1;height:44px;border:1px solid var(--line);background:#fff;border-radius:999px;font-weight:800;cursor:pointer}
  .tab.active{background:var(--blue);border-color:transparent;color:#fff}
  .search{display:flex;gap:8px;margin-bottom:10px}
  .search input{flex:1;height:42px;border:1px solid var(--line);border-radius:12px;padding:0 12px;font-size:15px}
  .search button{height:42px;border:1px solid var(--line);background:#fff;border-radius:12px;font-weight:700;cursor:pointer}

  /* 목록 */
  .list{border:1px solid var(--line);border-radius:12px;overflow:hidden}
  .item{display:flex;gap:10px;align-items:center;padding:12px 14px;border-bottom:1px solid var(--line);cursor:pointer;background:#fff}
  .item:last-child{border-bottom:none}
  .badge{padding:4px 8px;border-radius:999px;font-size:12px;font-weight:800}
  .badge.wait{background:#fff3f0;color:#c2410c;border:1px solid #fecaca}
  .badge.done{background:#eefdf3;color:#065f46;border:1px solid #bbf7d0}
  .title2{margin:0;font-weight:800}
  .meta{font-size:12px;color:var(--muted)}
  .grow{flex:1;min-width:0}
  .ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

  /* 상세 패널 */
  .panel{position:fixed;inset:0;display:none;background:rgba(17,24,39,.4);z-index:30}
  .panel.show{display:flex}
  .sheet{margin:0 auto auto;max-width:480px;width:100%;background:#fff;border-radius:16px 16px 0 0;border:1px solid var(--line)}
  .sheet header{position:sticky;top:0;border-bottom:1px solid var(--line)}
  .sheet .hd{display:flex;align-items:center;gap:8px;padding:12px 14px}
  .sheet h2{margin:0;font-size:16px;font-weight:900;flex:1}
  .content{padding:14px}
  .block{border:1px solid var(--line);border-radius:12px;padding:12px;margin-bottom:12px}
  .block h4{margin:0 0 8px;font-size:14px;color:var(--muted)}
  .block p{margin:0;line-height:1.6}
  textarea{width:100%;min-height:120px;resize:vertical;border:1px solid var(--line);border-radius:12px;padding:10px;font-size:15px}
  .actions{display:flex;gap:10px;margin:12px 0 18px}
  .btn{flex:1;height:var(--btn-h);border:none;border-radius:12px;font-weight:800;cursor:pointer}
  .btn.primary{background:var(--sky);color:#fff}
  .btn.success{background:var(--blue);color:#fff}
  .btn.ghost{background:#F8FAFC;border:1px solid var(--line)}

  /* 토스트 */
  .toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#111827;color:#fff;
        padding:10px 14px;border-radius:10px;font-size:14px;opacity:0;pointer-events:none;transition:opacity .2s;z-index:40}
  .toast.show{opacity:1}
</style>
</head>
<body>
  <header>
    <div class="head">
      <a class="back" href="teacher.html" aria-label="메인으로">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </a>
      <h1 class="title">문의 답변</h1>
      <span class="sp"></span>
    </div>
  </header>

  <main class="container" aria-live="polite">
    <!-- 요약 -->
    <section class="metrics" id="metrics">
      <div class="metric">
        <h3>대기 중</h3>
        <div class="num" id="mWait">0</div>
      </div>
      <div class="metric">
        <h3>답변 완료</h3>
        <div class="num" id="mDone">0</div>
      </div>
    </section>

    <!-- 탭/검색 -->
    <div class="tabs">
      <button class="tab active" data-filter="wait">대기</button>
      <button class="tab" data-filter="done">완료</button>
      <button class="tab" data-filter="all">전체</button>
    </div>
    <div class="search">
      <input id="q" type="search" placeholder="학생명, 제목으로 검색" />
      <button id="btnClear">초기화</button>
    </div>

    <!-- 목록 -->
    <section class="list" id="list" role="list" aria-label="문의 목록"></section>
  </main>

  <!-- 상세·답변 패널 -->
  <aside class="panel" id="panel" aria-hidden="true">
    <div class="sheet">
      <header>
        <div class="hd">
          <button class="back" id="closePanel" aria-label="닫기">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <h2 id="pTitle">문의 상세</h2>
        </div>
      </header>
      <div class="content">
        <div class="block">
          <h4>학생 · 반</h4>
          <p id="pStudent">-</p>
        </div>
        <div class="block">
          <h4>문의 내용</h4>
          <p id="pBody">-</p>
        </div>
        <div class="block" id="replyBlock">
          <h4>답변</h4>
          <textarea id="pReply" placeholder="답변을 입력하세요"></textarea>
        </div>
        <div class="actions">
          <button class="btn ghost" id="btnSave">임시 저장</button>
          <button class="btn primary" id="btnSend">저장 & 학생에게 전송</button>
          <button class="btn success" id="btnComplete">완료 처리</button>
        </div>
      </div>
    </div>
  </aside>

  <div class="toast" id="toast"></div>

  <script src="teacher_qna.js"></script>
</body>
</html>